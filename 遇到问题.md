###### 问题

> 使用echarts时，容器元素设置宽度100%，渲染之后canvas宽度超出容器宽度

###### 解决办法

因为绘制时会获取父级大小填写宽度，使用setTimeout，保证父元素已渲染

```
mounted() {
	this.$nextTick(function () {
		setTimeout(() => {
			this.drawline();
		})
	})
}
```



---

###### 问题

> 项目打包后，static下引入的静态资源报404错误

###### 解决办法

这里我碰到的问题是static引入的静态资源使用相对路径了，应该使用绝对路径引入。

那就需要了解一下assets和static的区别：

```
assets
引用assets下的内容，会被webpack的loader解析，压缩格式化，使用相对路径引用

static
static目录下的文件并不会被webpack处理，它们会直接复制到最终目录（dist/static）下
组件中以绝对路径方式引入"static/[filename]"，配合assetsPublicPath确定

注：将项目中组件需要的静态文件等都可以放置在assets中，走打包这一流程，减少体积；而项目中引入的第三方的资源文件，如：iconfont.css等文件可以放置在static中，因为这些引入的第三方文件已经经过处理，我们不再需要处理，直接上传
```



---

###### 问题

> vue项目打包之后所有依赖生产的chunk文件过大，会导致加载很慢

###### 解决办法

1. 将某些常用稳定依赖在主页index.html中以script标签的方式，使用cdn节点导 入，然后删除mian.js中相应的的import及vue.use，这样webpack打包时就会跳过这些依赖
2. 可以开启gzip压缩。npm install --save-dev compression-webpack-plugin下载安装插件，在配置文件config.js中配置productionGzip: true，然后打包，每个js和css文件会压缩一个gz后缀的文件夹，浏览器如果支持g-zip会自动查找有没有gz文件，找到了就加载gz然后本地解压执行。方式适用于vue-cli2.x，3.0以上版本需要更复杂的修改vue.config.js文件



---

###### 问题

> npm下载慢的问题

###### 解决办法

建议不直接使用 cnpm 安装依赖，会有各种诡异的 bug。可以通过代理地址下载

npm install --registry=https://registry.npm.taobao.org



---

###### 常常忘记的小细节

> 关于箭头函数写法和正常函数写法

```
var obj = {
  a: 10,
  b: () => {
    console.log(this.a); // undefined
    console.log(this); // Window {postMessage: ƒ, blur: ƒ, …}
  },
  c: function() {
    console.log(this.a); // 10
    console.log(this); // {a: 10, b: ƒ, c: ƒ}
  }
}

结论：箭头函数不会绑定this，会捕获其所在的上下文的this值，作为自己的this值
```

> 结合上个问题，理解call、apply、bind改变this的指向

```
var name = '小王', age = 17;
var obj = {
    name: '小李',
    objAge: this.age,
    myFun: function (fm, t) {
        console.log(this.name + ' 年龄' + this.age, ' 来自' + fm + ' 去往' + t);
    }
}
var db = {
	name: '小红',
	age: '26'
}

obj.myFun();          // 小李 年龄undefined  来自undefined 去往undefined
obj.myFun.call(db,'成都','上海');　　　　  // 小李 年龄 26  来自成都 去往上海
obj.myFun.apply(db,['成都','上海']);      // 小李 年龄 26  来自成都 去往上海  
obj.myFun.bind(db,'成都','上海')();       // 小李 年龄 26  来自成都 去往上海
```

